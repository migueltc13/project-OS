\hypertarget{request_8c}{}\doxysection{src/request.c File Reference}
\label{request_8c}\index{src/request.c@{src/request.c}}
{\ttfamily \#include \char`\"{}../include/request.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/client.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}../include/orchestrator.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for request.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{request_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structrequest}{request}}
\begin{DoxyCompactList}\small\item\em The request struct. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$ \mbox{\hyperlink{request_8c_a96b9942bf26bd4b5458e0e393d8af806}{create\+\_\+request}} (int type, int est\+\_\+time, char $\ast$command, bool is\+\_\+piped, char $\ast$client\+\_\+fifo)
\begin{DoxyCompactList}\small\item\em Creates a new request. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{request_8c_a9c4991d2905d6b337c2805f7ab8e54eb}{get\+\_\+type}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Get the type of the request. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{request_8c_a1e0de6005457b0ad26bdff5931c8df25}{get\+\_\+est\+\_\+time}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Get the estimated time or priority of the request. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{request_8c_aa86d0a88bfeae920cdc85fec9f2873ea}{get\+\_\+command}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Get the command to be executed. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{request_8c_a80650d1ccea10349386f3bd50e922c32}{get\+\_\+is\+\_\+piped}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Get the boolean indicating if the command is piped. \end{DoxyCompactList}\item 
unsigned int \mbox{\hyperlink{request_8c_a58d2abe06be3a5d8cb4d9022fbd4c8a1}{get\+\_\+task\+\_\+nr}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Get the task number of the request. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{request_8c_ac05bcc015d6cf87329df236bc939728b}{get\+\_\+client\+\_\+fifo}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Get the client FIFO name to send the response to the client. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{request_8c_a43395fb8bb232c43a0a0078501dc3b12}{set\+\_\+type}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r, int type)
\begin{DoxyCompactList}\small\item\em Set the type of the request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{request_8c_a7786a63a5691ed30bd79f97ce01a9b01}{set\+\_\+task\+\_\+nr}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r, unsigned int task\+\_\+nr)
\begin{DoxyCompactList}\small\item\em Set the task number of the request. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{request_8c_a1f928df22f66bb6be9e75d13a2d08fe5}{set\+\_\+client\+\_\+fifo}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r, char $\ast$client\+\_\+fifo)
\begin{DoxyCompactList}\small\item\em Set the client FIFO name to send the response to the client. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{request_8c_a8949a3eb2d229765f225fccdfdc95dc2}{print\+\_\+request}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r, int policy)
\begin{DoxyCompactList}\small\item\em Print the request. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{request_8c_ac75498371597f92321b38bd186375df6}{type\+\_\+to\+\_\+string}} (int type)
\begin{DoxyCompactList}\small\item\em Convert the type of the request to a string. \end{DoxyCompactList}\item 
unsigned long \mbox{\hyperlink{request_8c_addf1d41d1a4004eb7da1b19870f1a607}{sizeof\+\_\+request}} ()
\begin{DoxyCompactList}\small\item\em Get the size of the request. \end{DoxyCompactList}\item 
\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$ \mbox{\hyperlink{request_8c_ad5f65b4ecf295f03488b3b73ea095aa3}{clone\+\_\+request}} (\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$r)
\begin{DoxyCompactList}\small\item\em Clone a request. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{request_8c_a96b9942bf26bd4b5458e0e393d8af806}\label{request_8c_a96b9942bf26bd4b5458e0e393d8af806}} 
\index{request.c@{request.c}!create\_request@{create\_request}}
\index{create\_request@{create\_request}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{create\_request()}{create\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}}$\ast$ create\+\_\+request (\begin{DoxyParamCaption}\item[{int}]{type,  }\item[{int}]{est\+\_\+time,  }\item[{char $\ast$}]{command,  }\item[{bool}]{is\+\_\+piped,  }\item[{char $\ast$}]{client\+\_\+fifo }\end{DoxyParamCaption})}



Creates a new request. 

Allocates memory for a new request and initializes it with the given parameters.

It initializes the task number with 0, which is not a valid task number.

For the creation of a status request, the
\begin{DoxyParams}{Parameters}
{\em est\+\_\+time} & should be {\ttfamily 0}, as it is not used, as well as the\\
\hline
{\em command} & should be {\ttfamily NULL} and\\
\hline
{\em is\+\_\+piped} & should be {\ttfamily false}.\\
\hline
\end{DoxyParams}
Example of the creation of an execute request\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structrequest}{Request}} *execute\_request = \mbox{\hyperlink{request_8h_ab4cb76d84eca459d1b80c7b1a1741192}{create\_request}}(\mbox{\hyperlink{request_8h_a05e20d8bc0525f94757303dd5a905a69}{EXECUTE}}, 12, \textcolor{stringliteral}{"{}ls -\/l | cat"{}}, \textcolor{keyword}{true}, \textcolor{stringliteral}{"{}client-\/1234"{}});}

\end{DoxyCode}


Example of the creation of a status request\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structrequest}{Request}} *status\_request = \mbox{\hyperlink{request_8h_ab4cb76d84eca459d1b80c7b1a1741192}{create\_request}}(\mbox{\hyperlink{request_8h_a59279bee44f34d08b3cbf3a89fb0d8d9}{STATUS}}, 0, NULL, \textcolor{keyword}{false}, \textcolor{stringliteral}{"{}client-\/1234"{}});}

\end{DoxyCode}


Example of the creation of a kill request\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{structrequest}{Request}} *kill\_request = \mbox{\hyperlink{request_8h_ab4cb76d84eca459d1b80c7b1a1741192}{create\_request}}(\mbox{\hyperlink{request_8h_a9d385e974a49598d267af81de5a33838}{KILL}}, 0, NULL, \textcolor{keyword}{false}, \textcolor{stringliteral}{"{}"{}});}

\end{DoxyCode}


{\bfseries{The caller is responsible for freeing the returned request by this function.}} 
\begin{DoxyParams}{Parameters}
{\em type} & the type of the request \\
\hline
{\em est\+\_\+time} & the estimated time or priority of the request \\
\hline
{\em command} & the command to be executed \\
\hline
{\em is\+\_\+piped} & a boolean indicating if the command is piped \\
\hline
{\em client\+\_\+fifo} & the client FIFO name to send the response to the client \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{request_8c_a9c4991d2905d6b337c2805f7ab8e54eb}\label{request_8c_a9c4991d2905d6b337c2805f7ab8e54eb}} 
\index{request.c@{request.c}!get\_type@{get\_type}}
\index{get\_type@{get\_type}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{get\_type()}{get\_type()}}
{\footnotesize\ttfamily int get\+\_\+type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Get the type of the request. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to get the type from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The type of the request 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_a1e0de6005457b0ad26bdff5931c8df25}\label{request_8c_a1e0de6005457b0ad26bdff5931c8df25}} 
\index{request.c@{request.c}!get\_est\_time@{get\_est\_time}}
\index{get\_est\_time@{get\_est\_time}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{get\_est\_time()}{get\_est\_time()}}
{\footnotesize\ttfamily int get\+\_\+est\+\_\+time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Get the estimated time or priority of the request. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to get the estimated time or priority from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The estimated time or priority of the request 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_aa86d0a88bfeae920cdc85fec9f2873ea}\label{request_8c_aa86d0a88bfeae920cdc85fec9f2873ea}} 
\index{request.c@{request.c}!get\_command@{get\_command}}
\index{get\_command@{get\_command}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{get\_command()}{get\_command()}}
{\footnotesize\ttfamily char$\ast$ get\+\_\+command (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Get the command to be executed. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to get the command from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The command to be executed 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_a80650d1ccea10349386f3bd50e922c32}\label{request_8c_a80650d1ccea10349386f3bd50e922c32}} 
\index{request.c@{request.c}!get\_is\_piped@{get\_is\_piped}}
\index{get\_is\_piped@{get\_is\_piped}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{get\_is\_piped()}{get\_is\_piped()}}
{\footnotesize\ttfamily bool get\+\_\+is\+\_\+piped (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Get the boolean indicating if the command is piped. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to get the is\+\_\+piped from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The boolean indicating if the command is piped 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_a58d2abe06be3a5d8cb4d9022fbd4c8a1}\label{request_8c_a58d2abe06be3a5d8cb4d9022fbd4c8a1}} 
\index{request.c@{request.c}!get\_task\_nr@{get\_task\_nr}}
\index{get\_task\_nr@{get\_task\_nr}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{get\_task\_nr()}{get\_task\_nr()}}
{\footnotesize\ttfamily unsigned int get\+\_\+task\+\_\+nr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Get the task number of the request. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to get the task number from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The task number of the request 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_ac05bcc015d6cf87329df236bc939728b}\label{request_8c_ac05bcc015d6cf87329df236bc939728b}} 
\index{request.c@{request.c}!get\_client\_fifo@{get\_client\_fifo}}
\index{get\_client\_fifo@{get\_client\_fifo}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{get\_client\_fifo()}{get\_client\_fifo()}}
{\footnotesize\ttfamily char$\ast$ get\+\_\+client\+\_\+fifo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Get the client FIFO name to send the response to the client. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to get the client FIFO name from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The client FIFO name to send the response to the client 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_a43395fb8bb232c43a0a0078501dc3b12}\label{request_8c_a43395fb8bb232c43a0a0078501dc3b12}} 
\index{request.c@{request.c}!set\_type@{set\_type}}
\index{set\_type@{set\_type}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{set\_type()}{set\_type()}}
{\footnotesize\ttfamily void set\+\_\+type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r,  }\item[{int}]{type }\end{DoxyParamCaption})}



Set the type of the request. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to set the type \\
\hline
{\em type} & The type to set \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{request_8c_a7786a63a5691ed30bd79f97ce01a9b01}\label{request_8c_a7786a63a5691ed30bd79f97ce01a9b01}} 
\index{request.c@{request.c}!set\_task\_nr@{set\_task\_nr}}
\index{set\_task\_nr@{set\_task\_nr}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{set\_task\_nr()}{set\_task\_nr()}}
{\footnotesize\ttfamily void set\+\_\+task\+\_\+nr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r,  }\item[{unsigned int}]{task\+\_\+nr }\end{DoxyParamCaption})}



Set the task number of the request. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to set the task number \\
\hline
{\em task\+\_\+nr} & The task number to set \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{request_8c_a1f928df22f66bb6be9e75d13a2d08fe5}\label{request_8c_a1f928df22f66bb6be9e75d13a2d08fe5}} 
\index{request.c@{request.c}!set\_client\_fifo@{set\_client\_fifo}}
\index{set\_client\_fifo@{set\_client\_fifo}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{set\_client\_fifo()}{set\_client\_fifo()}}
{\footnotesize\ttfamily void set\+\_\+client\+\_\+fifo (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r,  }\item[{char $\ast$}]{client\+\_\+fifo }\end{DoxyParamCaption})}



Set the client FIFO name to send the response to the client. 


\begin{DoxyParams}{Parameters}
{\em r} & The request to set the client FIFO name \\
\hline
{\em client\+\_\+fifo} & The client FIFO name to set \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{request_8c_a8949a3eb2d229765f225fccdfdc95dc2}\label{request_8c_a8949a3eb2d229765f225fccdfdc95dc2}} 
\index{request.c@{request.c}!print\_request@{print\_request}}
\index{print\_request@{print\_request}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{print\_request()}{print\_request()}}
{\footnotesize\ttfamily void print\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r,  }\item[{int}]{policy }\end{DoxyParamCaption})}



Print the request. 

Prints the request attributes to the standard output.

Based on the policy being used, it prints the estimated time or the priority.

If the policy is FCFS, it doesn\textquotesingle{}t print either the estimated time or the priority. 
\begin{DoxyParams}{Parameters}
{\em r} & The request to print \\
\hline
{\em policy} & The policy being used \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{request_8c_ac75498371597f92321b38bd186375df6}\label{request_8c_ac75498371597f92321b38bd186375df6}} 
\index{request.c@{request.c}!type\_to\_string@{type\_to\_string}}
\index{type\_to\_string@{type\_to\_string}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{type\_to\_string()}{type\_to\_string()}}
{\footnotesize\ttfamily char$\ast$ type\+\_\+to\+\_\+string (\begin{DoxyParamCaption}\item[{int}]{type }\end{DoxyParamCaption})}



Convert the type of the request to a string. 

Possible types are \mbox{\hyperlink{request_8h_a05e20d8bc0525f94757303dd5a905a69}{EXECUTE}}, \mbox{\hyperlink{request_8h_a59279bee44f34d08b3cbf3a89fb0d8d9}{STATUS}}, \mbox{\hyperlink{request_8h_a22c88fdadb7d8f8417a92cdcc6232786}{COMPLETED}} and \mbox{\hyperlink{request_8h_a9d385e974a49598d267af81de5a33838}{KILL}}. 
\begin{DoxyParams}{Parameters}
{\em type} & The type of the request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The string representation of the type of the request 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_addf1d41d1a4004eb7da1b19870f1a607}\label{request_8c_addf1d41d1a4004eb7da1b19870f1a607}} 
\index{request.c@{request.c}!sizeof\_request@{sizeof\_request}}
\index{sizeof\_request@{sizeof\_request}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{sizeof\_request()}{sizeof\_request()}}
{\footnotesize\ttfamily unsigned long sizeof\+\_\+request (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the size of the request. 

Used due to the fact that the \mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} struct is not visible to other modules, so
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{sizeof}(\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}}) }

\end{DoxyCode}
 wouldn\textquotesingle{}t give the correct size of the struct. \begin{DoxyReturn}{Returns}
The size of the Request struct 
\end{DoxyReturn}
\mbox{\Hypertarget{request_8c_ad5f65b4ecf295f03488b3b73ea095aa3}\label{request_8c_ad5f65b4ecf295f03488b3b73ea095aa3}} 
\index{request.c@{request.c}!clone\_request@{clone\_request}}
\index{clone\_request@{clone\_request}!request.c@{request.c}}
\doxysubsubsection{\texorpdfstring{clone\_request()}{clone\_request()}}
{\footnotesize\ttfamily \mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}}$\ast$ clone\+\_\+request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{request_8h_a1abc891df97d2318f8fb4832a28ae63c}{Request}} $\ast$}]{r }\end{DoxyParamCaption})}



Clone a request. 

Allocates memory for a new request and initializes it with the attributes of the given request.

Used in the \mbox{\hyperlink{orchestrator_8c}{orchestrator.\+c}} to clone a request before adding it to the executing or scheduled array.

{\bfseries{The caller is responsible for freeing the returned request by this function.}} 
\begin{DoxyParams}{Parameters}
{\em r} & The request to clone \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The cloned request 
\end{DoxyReturn}
